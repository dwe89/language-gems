  Console Ninja extension is connected to Next.js browser, see https://tinyurl.com/2vt8jxzw for more info.
 Download the React DevTools for a better development experience: https://reactjs.org/link/react-devtools
 Starting auth initialization...
 ğŸ” Fetching current session...
 ğŸ”§ [SUPABASE] Client exposed globally for console testing
 Starting auth initialization...
 ğŸ” Fetching current session...
 ğŸ”§ [SUPABASE] Client exposed globally for console testing
 âœ… [GRAMMAR TEST INJECTOR] testAssignmentConfiguration is now available!
 âœ… [GRAMMAR TEST INJECTOR] findRealAssignments is now available!
 Auth state change event: SIGNED_IN Session: true
 Skipping auth state change during initialization
 [Vercel Web Analytics] Debug mode is enabled by default in development. No requests will be sent to the server.
 [Vercel Web Analytics] Running queued event pageview Object
 [Vercel Web Analytics] Running queued event pageview Object
 [Vercel Web Analytics] [pageview] http://localhost:3000/student-dashboard/assignments/8b3e35fd-11ba-4da9-bc87-333b01d37dd2 Object
 [Vercel Web Analytics] [pageview] http://localhost:3000/student-dashboard/assignments/8b3e35fd-11ba-4da9-bc87-333b01d37dd2 Object
 ğŸ“Š Session fetched: Object
 ğŸ“Š Session fetched: Object
 updateAuthState called with session: true
 Getting user data for: langauge.gems1.1767985765605@student.languagegems.com
 Role from user_metadata: student
 Auth state change event: INITIAL_SESSION Session: true
 Skipping auth state change during initialization
 getUserData returning: Object
 Setting user role in state: student
 Setting subscription status: true
 updateAuthState completed
 Auth initialization completed successfully
 Student dashboard accessed on main domain - allowing access without redirects
 Student dashboard accessed on main domain - skipping production redirects
 ğŸ“Š [PROGRESS] Game progress for noughts-and-crosses: Object
 ğŸ“Š [PROGRESS] Game progress for vocab-blast: Object
 ğŸ“Š [PROGRESS] Game progress for hangman: Object
 ğŸ“Š [PROGRESS] Game progress for word-scramble: Object
 ğŸ“Š [PROGRESS] Game progress for word-towers: Object
 ğŸ“Š [PROGRESS] Game progress for memory-game: Object
 ğŸ“Š [PROGRESS] Game progress for sentence-towers: Object
 ğŸ“Š [PROGRESS] Game progress for speed-builder: Object
 ğŸ“Š [PROGRESS] Game progress for case-file-translator: Object
 ğŸ“Š [PROGRESS] Game progress for lava-temple-word-restore: Object
 ğŸ“Š [PROGRESS] Game progress for detective-listening: Object
 ğŸ“Š [PROGRESS] Game progress for noughts-and-crosses: Object
 ğŸ“Š [PROGRESS] Game progress for vocab-blast: Object
 ğŸ“Š [PROGRESS] Game progress for hangman: Object
 ğŸ” [AQA RESULTS] Object
 ğŸ“Š [PROGRESS] Game progress for word-scramble: Object
 ğŸ“Š [PROGRESS] Game progress for word-towers: Object
 ğŸ“Š [PROGRESS] Game progress for memory-game: Object
 ğŸ“Š [PROGRESS] Game progress for sentence-towers: Object
 ğŸ“Š [EXPOSURE SERVICE] Getting progress [ysdzq]: Object
 ğŸ“Š [PROGRESS] Game progress for speed-builder: Object
 ğŸ“Š [PROGRESS] Game progress for case-file-translator: Object
 ğŸ“Š [PROGRESS] Game progress for lava-temple-word-restore: Object
 ğŸ“Š [PROGRESS] Game progress for detective-listening: Object
 ğŸ“Š [EXPOSURE SERVICE] Using actual vocabulary count: 10 [ysdzq]
 ğŸ“Š [EXPOSURE SERVICE] Progress calculated [ysdzq]: Object
 ğŸ“Š [ASSIGNMENT PROGRESS] Exposure-based calculation: Object
 ğŸ” [AQA RESULTS] Object
 ğŸ“Š [EXPOSURE SERVICE] Getting progress [sd6wlh]: Object
 ğŸ“Š [EXPOSURE SERVICE] Using actual vocabulary count: 10 [sd6wlh]
 ğŸ“Š [EXPOSURE SERVICE] Progress calculated [sd6wlh]: Object
 ğŸ“Š [ASSIGNMENT PROGRESS] Exposure-based calculation: Object
 ğŸ® Launching game with outstanding words filter: Object
 [Fast Refresh] rebuilding
 [Fast Refresh] done in 2339ms
 ğŸ® Launching game with outstanding words filter: Object
 Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
GoTrueClient @ webpack-internal:///â€¦/GoTrueClient.js:86
useAssignmentVocabulary.ts:65 ğŸ”§ [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
useAssignmentVocabulary.ts:65 ğŸ”§ [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
script.debug.js:1 [Vercel Web Analytics] [pageview] http://localhost:3000/activities/detective-listening?assignment=8b3e35fd-11ba-4da9-bc87-333b01d37dd2&mode=assignment&filterOutstanding=true Object
useAssignmentVocabulary.ts:100 ğŸ“š [HOOK] Loading vocabulary for assignment: 8b3e35fd-11ba-4da9-bc87-333b01d37dd2
useAssignmentVocabulary.ts:100 ğŸ“š [HOOK] Loading vocabulary for assignment: 8b3e35fd-11ba-4da9-bc87-333b01d37dd2
useAssignmentVocabulary.ts:240 ğŸ” [HOOK] Filtering to unexposed words only (exposure-based)...
useAssignmentVocabulary.ts:240 ğŸ” [HOOK] Filtering to unexposed words only (exposure-based)...
useAssignmentVocabulary.ts:259 ğŸ“Š [HOOK] Exposure-based filter results: Object
DetectiveListeningGameWrapper.tsx:98 ğŸ” [VOCABULARY DEBUG] State update: Object
DetectiveListeningGameWrapper.tsx:98 ğŸ” [VOCABULARY DEBUG] State update: Object
DetectiveListeningGameWrapper.tsx:98 ğŸ” [VOCABULARY DEBUG] State update: Object
useAssignmentVocabulary.ts:259 ğŸ“Š [HOOK] Exposure-based filter results: Object
DetectiveListeningGameWrapper.tsx:145 ğŸ”® [ASSIGNMENT] Detective Listening game session started: a5bc1291-9b03-4cb7-8302-51ab65c900f2
DetectiveListeningGameWrapper.tsx:145 ğŸ”® [ASSIGNMENT] Detective Listening game session started: 291fb84b-e1a7-4fd8-a66c-f11570bdd534
DetectiveListeningGameWrapper.tsx:98 ğŸ” [VOCABULARY DEBUG] State update: Object
useVocabulary.ts:127 ğŸ” [useVocabularyByCategory] Query debug: Object
DetectiveRoom.tsx:145 ğŸ” [EVIDENCE DEBUG] Vocabulary effect triggered: Object
DetectiveRoom.tsx:208 Initializing audio effects...
DetectiveRoom.tsx:250 Audio effects initialized: Object
DetectiveRoom.tsx:256 Attempting to play background music
DetectiveListeningGameWrapper.tsx:98 ğŸ” [VOCABULARY DEBUG] State update: Object
DetectiveRoom.tsx:145 ğŸ” [EVIDENCE DEBUG] Vocabulary effect triggered: Object
DetectiveRoom.tsx:208 Initializing audio effects...
DetectiveRoom.tsx:250 Audio effects initialized: Object
DetectiveRoom.tsx:256 Attempting to play background music
DetectiveRoom.tsx:260 Background music autoplay blocked - will play on first user interaction: AbortError: The play() request was interrupted by a call to pause(). https://goo.gl/LdLk22
DetectiveListeningGameWrapper.tsx:98 ğŸ” [VOCABULARY DEBUG] State update: Object
useVocabulary.ts:127 ğŸ” [useVocabularyByCategory] Query debug: Object
DetectiveListeningGameWrapper.tsx:98 ğŸ” [VOCABULARY DEBUG] State update: Object
DetectiveRoom.tsx:230 radioStatic loaded successfully
DetectiveRoom.tsx:230 wrongAnswer loaded successfully
DetectiveRoom.tsx:230 radioBeep loaded successfully
DetectiveRoom.tsx:230 radioStatic loaded successfully
DetectiveRoom.tsx:230 radioBeep loaded successfully
DetectiveRoom.tsx:215 Background music loaded successfully
useVocabulary.ts:127 ğŸ” [useVocabularyByCategory] Query debug: Object
DetectiveRoom.tsx:230 wrongAnswer loaded successfully
DetectiveRoom.tsx:258 Background music started successfully
DetectiveRoom.tsx:215 Background music loaded successfully
useVocabulary.ts:127 ğŸ” [useVocabularyByCategory] Query debug: Object
DetectiveRoom.tsx:230 correctAnswer loaded successfully
DetectiveRoom.tsx:230 correctAnswer loaded successfully
DetectiveRoom.tsx:318 ensureBackgroundMusic called, backgroundMusic: <audio preload=â€‹"auto" src=â€‹"/â€‹audio/â€‹detective-listening/â€‹background-music.mp3" loop>â€‹</audio>â€‹media
DetectiveRoom.tsx:328 Background music is already playing
DetectiveRoom.tsx:285 Attempting to play radioStatic: Object
DetectiveRoom.tsx:287 Sound object for radioStatic: <audio preload=â€‹"auto" src=â€‹"/â€‹audio/â€‹detective-listening/â€‹radio-static.mp3">â€‹</audio>â€‹media
DetectiveRoom.tsx:291 Playing radioStatic sound
DetectiveRoom.tsx:293 radioStatic sound played successfully
DetectiveRoom.tsx:230 radioStatic loaded successfully
DetectiveRoom.tsx:285 Attempting to play radioBeep: Object
DetectiveRoom.tsx:287 Sound object for radioBeep: <audio preload=â€‹"auto" src=â€‹"/â€‹audio/â€‹detective-listening/â€‹radio-beep.mp3">â€‹</audio>â€‹media
DetectiveRoom.tsx:291 Playing radioBeep sound
DetectiveRoom.tsx:293 radioBeep sound played successfully
DetectiveRoom.tsx:230 radioBeep loaded successfully
useAudioManager.ts:150 ğŸµ Loading audio from centralized vocabulary: https://xetsvpfunazwkontdpdh.supabase.co/storage/v1/object/public/audio/audio/vocabulary/es_voleibol_1768070212265.mp3
DetectiveRoom.tsx:285 Attempting to play correctAnswer: {radioStatic: audio, radioBeep: audio, correctAnswer: audio, wrongAnswer: audio}
DetectiveRoom.tsx:287 Sound object for correctAnswer: <audio preload=â€‹"auto" src=â€‹"/â€‹audio/â€‹detective-listening/â€‹correct-answer.mp3">â€‹</audio>â€‹media
DetectiveRoom.tsx:291 Playing correctAnswer sound
DetectiveRoom.tsx:381 ğŸ” [DETECTIVE LISTENING] Starting vocabulary tracking: {currentEvidence: {â€¦}, isCorrect: true, responseTime: 7184, gameService: false, gameSessionId: '291fb84b-e1a7-4fd8-a66c-f11570bdd534',Â â€¦}
DetectiveRoom.tsx:405 ğŸ” [DETECTIVE LISTENING] Recording vocabulary attempt: {vocabularyId: 'a9f4fa31-8e04-4821-82fd-6b2c7a775432', wasCorrect: true, answer: 'Volleyball', correctAnswer: 'Volleyball', isCustomVocabulary: true}
EnhancedGameSessionService.ts:330 ğŸ”® [SESSION SERVICE] recordWordAttempt called [dixobbqad]: {sessionId: '291fb84b-e1a7-4fd8-a66c-f11570bdd534', gameType: 'detective-listening', attempt: {â€¦}, skipSpacedRepetition: false}
EnhancedGameSessionService.ts:133 ğŸ“Š [SESSION COUNTS] Incrementing for session 291fb84b-e1a7-4fd8-a66c-f11570bdd534, wasCorrect: true
DetectiveRoom.tsx:293 correctAnswer sound played successfully
DetectiveRoom.tsx:230 correctAnswer loaded successfully
EnhancedGameSessionService.ts:155 ğŸ“Š [SESSION COUNTS] Updating: 0 â†’ 1 attempted, 0 â†’ 1 correct
EnhancedGameSessionService.ts:169 âœ… [SESSION COUNTS] Successfully updated session 291fb84b-e1a7-4fd8-a66c-f11570bdd534
EnhancedGameSessionService.ts:347 ğŸ”® [SESSION SERVICE] Logging word performance [dixobbqad]...
EnhancedGameSessionService.ts:879 ğŸ“ [PERFORMANCE] Logging enhanced item: a9f4fa31-8e04-4821-82fd-6b2c7a775432
EnhancedGameSessionService.ts:360 ğŸ” [ENHANCED SESSION] FSRS update: {vocabularyId: undefined, enhancedVocabularyItemId: 'a9f4fa31-8e04-4821-82fd-6b2c7a775432', wasCorrect: true, callId: 'dixobbqad'}
EnhancedGameSessionService.ts:994 ğŸ“š [CUSTOM VOCAB] Tracking progress for enhanced vocabulary item: {enhancedVocabularyItemId: 'a9f4fa31-8e04-4821-82fd-6b2c7a775432', studentId: '9d184226-be17-4612-8685-0ac45fcef060', wasCorrect: true}
EnhancedGameSessionService.ts:1015 âœ… [CUSTOM VOCAB] Enhanced vocabulary progress tracked successfully
EnhancedGameSessionService.ts:375 âœ… [ENHANCED SESSION] FSRS update completed successfully
EnhancedGameSessionService.ts:416 ğŸ”® [SESSION SERVICE] Getting session context for session [dixobbqad]...
EnhancedGameSessionService.ts:418 ğŸ”® [SESSION SERVICE] Student ID: 9d184226-be17-4612-8685-0ac45fcef060, Assignment ID: 8b3e35fd-11ba-4da9-bc87-333b01d37dd2 [dixobbqad]
EnhancedGameSessionService.ts:426 ğŸ“ [LAYER 2] Recording exposure for word a9f4fa31-8e04-4821-82fd-6b2c7a775432 in assignment 8b3e35fd-11ba-4da9-bc87-333b01d37dd2 (isCustom: true)
AssignmentExposureService.ts:64 ğŸ“ [EXPOSURE SERVICE] Recording exposures [6hf5hf]: {assignmentId: '8b3e35fd-11ba-4da9-bc87-333b01d37dd2', studentId: '9d184226-be17-4612-8685-0ac45fcef060', wordCount: 1, wordIds: Array(1), isCustomVocabulary: true}
EnhancedGameSessionService.ts:435 ğŸ® [DUAL-TRACK] Awarding Activity Gem for correct answer [dixobbqad]
EnhancedGameSessionService.ts:456 ğŸ”® [SESSION SERVICE] Activity gem created [dixobbqad]: {rarity: 'common', xpValue: 2, wordText: 'Voleibol'}
EnhancedGameSessionService.ts:463 ğŸ”® [SESSION SERVICE] Storing Activity Gem in database [dixobbqad]...
EnhancedGameSessionService.ts:561 ğŸ’ [STORE GEM] Starting to store gem event [20l5fng4p]: {sessionId: '291fb84b-e1a7-4fd8-a66c-f11570bdd534', studentId: '9d184226-be17-4612-8685-0ac45fcef060', gemType: 'activity', gemEvent: {â€¦}}
EnhancedGameSessionService.ts:599 ğŸ’ [CUSTOM VOCAB] Storing gem for enhanced item: a9f4fa31-8e04-4821-82fd-6b2c7a775432
EnhancedGameSessionService.ts:627 ğŸ’ [STORE GEM] Inserting into gem_events table [20l5fng4p]: {session_id: '291fb84b-e1a7-4fd8-a66c-f11570bdd534', student_id: '9d184226-be17-4612-8685-0ac45fcef060', gem_rarity: 'common', xp_value: 2, word_text: 'Voleibol',Â â€¦}
AssignmentExposureService.ts:95 âœ… [EXPOSURE SERVICE] Recorded 1 custom exposures [6hf5hf]
EnhancedGameSessionService.ts:658 ğŸ’ [STORE GEM] Database insert result [20l5fng4p]: {success: true, error: undefined, errorCode: undefined, insertedData: Array(1)}
EnhancedGameSessionService.ts:669 ğŸ’ [STORE GEM] Successfully stored activity gem [20l5fng4p]: common (2 XP) for "Voleibol"
EnhancedGameSessionService.ts:531 ğŸ”® [SESSION SERVICE] Gem event cached for session summary [dixobbqad]: {rarity: 'common', xpValue: 2}
EnhancedGameSessionService.ts:537 ğŸ”® [SESSION SERVICE] recordWordAttempt completed [dixobbqad]: {returnedGemEvent: true, gemRarity: 'common', gemXP: 2}
DetectiveRoom.tsx:431 ğŸ” [VOCAB TRACKING] Gem event result: {gemEventExists: true, gemEvent: {â€¦}, wasCorrect: true}
DetectiveRoom.tsx:444 ğŸ”® Detective earned common gem (2 XP) for "Voleibol"
