VM680:1  Console Ninja extension is connected to Next.js browser, see https://tinyurl.com/2vt8jxzw for more info.
react-dom.development.js:38560 Download the React DevTools for a better development experience: https://reactjs.org/link/react-devtools
SupabaseProvider.tsx:26 🔧 [SUPABASE] Client exposed globally for console testing
SupabaseProvider.tsx:26 🔧 [SUPABASE] Client exposed globally for console testing
testGrammarSystem.ts:562 🧪 [GRAMMAR TEST] Grammar system test functions loaded!
testGrammarSystem.ts:563 📋 [GRAMMAR TEST] Available functions:
testGrammarSystem.ts:564   - testGrammarSystemIntegration() - Test grammar verbs and conjugations
testGrammarSystem.ts:565   - testCreateGrammarAssignment() - Test creating grammar assignments
testGrammarSystem.ts:566   - testGrammarPracticeRecording() - Test recording practice attempts
testGrammarSystem.ts:567   - testCompleteGrammarAssignmentFlow() - Test complete assignment flow
testGrammarSystem.ts:568   - testSpecificAssignmentLoading(assignmentId) - Debug specific assignment
testGrammarSystem.ts:569   - testGrammarDashboardData(studentId?) - Test grammar dashboard data
testGrammarSystem.ts:570   - testGrammarPracticeFlow() - Test complete practice recording flow
testGrammarSystem.ts:571   - testAssignmentConfiguration(assignmentId?) - Test assignment config loading
testGrammarSystem.ts:787 🔧 [GRAMMAR TEST] Loading grammar test functions...
console-tests.js:131 ✅ [GRAMMAR TEST INJECTOR] testAssignmentConfiguration is now available!
console-tests.js:132 ✅ [GRAMMAR TEST INJECTOR] findRealAssignments is now available!
script.debug.js:1 [Vercel Web Analytics] Debug mode is enabled by default in development. No requests will be sent to the server.
script.debug.js:1 [Vercel Web Analytics] Running queued event pageview Object
script.debug.js:1 [Vercel Web Analytics] Running queued event pageview Object
script.debug.js:1 [Vercel Web Analytics] [pageview] http://localhost:3000/dashboard/assignments/new/enhanced Object
script.debug.js:1 [Vercel Web Analytics] [pageview] http://localhost:3000/dashboard/assignments/new/enhanced Object
testGrammarSystem.ts:799 ✅ [GRAMMAR TEST] All test functions are now available in browser console
CurriculumContentSelector.tsx:179 🎯 [CURRICULUM SELECTOR] My Lists clicked - BEFORE state change
CurriculumContentSelector.tsx:180 🎯 [CURRICULUM SELECTOR] Current selectedType: KS3
CurriculumContentSelector.tsx:181 🎯 [CURRICULUM SELECTOR] Current config: Object
CurriculumContentSelector.tsx:189 🎯 [CURRICULUM SELECTOR] NEW config being set: Object
CurriculumContentSelector.tsx:192 🎯 [CURRICULUM SELECTOR] About to call onConfigChange with: Object
CurriculumContentSelector.tsx:194 🎯 [CURRICULUM SELECTOR] onConfigChange called successfully
CurriculumContentSelector.tsx:462 🎯 [CURRICULUM SELECTOR] Custom list selected: bdb594f2-f133-4c17-b5f2-812818afb9cf GCSE - Mi tiempo libre
CurriculumContentSelector.tsx:464 🎯 [CURRICULUM SELECTOR] Updated config: Object
CurriculumContentSelector.tsx:467 🎯 [CURRICULUM SELECTOR] onConfigChange called with custom list
enhancedAssignmentService.ts:198 📝 [ASSIGNMENT SERVICE] Assignment type check: Object
enhancedAssignmentService.ts:210 📝 [ASSIGNMENT SERVICE] Processing vocabulary config: Object
enhancedAssignmentService.ts:296 📝 [ASSIGNMENT SERVICE] Using standard vocabulary path
enhancedAssignmentService.ts:452 Transforming vocabulary config: Object
enhancedAssignmentService.ts:694 Successfully populated vocabulary list with 10 items
enhancedAssignmentService.ts:399 📝 [ASSIGNMENT SERVICE] No conjugation-duel game selected, skipping grammar assignment creation
script.debug.js:1 [Vercel Web Analytics] [pageview] http://localhost:3000/dashboard/assignments Object
hot-reloader-client.tsx:297 [Fast Refresh] rebuilding
hot-reloader-client.tsx:74 [Fast Refresh] done in 585ms



VM7174:1  Console Ninja extension is connected to Next.js browser, see https://tinyurl.com/2vt8jxzw for more info.
main-app.js?v=1755712611333:1836 Download the React DevTools for a better development experience: https://reactjs.org/link/react-devtools
SupabaseProvider.tsx:26 🔧 [SUPABASE] Client exposed globally for console testing
SupabaseProvider.tsx:26 🔧 [SUPABASE] Client exposed globally for console testing
console-tests.js:131 ✅ [GRAMMAR TEST INJECTOR] testAssignmentConfiguration is now available!
console-tests.js:132 ✅ [GRAMMAR TEST INJECTOR] findRealAssignments is now available!
script.debug.js:1 [Vercel Web Analytics] Debug mode is enabled by default in development. No requests will be sent to the server.
script.debug.js:1 [Vercel Web Analytics] Running queued event pageview {route: '/student-dashboard', path: '/student-dashboard'}
script.debug.js:1 [Vercel Web Analytics] Running queued event pageview {route: '/student-dashboard', path: '/student-dashboard'}
script.debug.js:1 [Vercel Web Analytics] [pageview] http://localhost:3000/student-dashboard {o: 'http://localhost:3000/student-dashboard', sv: '0.1.3', sdkn: '@vercel/analytics/next', sdkv: '1.5.0', ts: 1755712611941, …}
script.debug.js:1 [Vercel Web Analytics] [pageview] http://localhost:3000/student-dashboard {o: 'http://localhost:3000/student-dashboard', sv: '0.1.3', sdkn: '@vercel/analytics/next', sdkv: '1.5.0', ts: 1755712611941, …}
layout.tsx:43 Student dashboard accessed on main domain - allowing access without redirects
layout.tsx:76 Student dashboard accessed on main domain - skipping production redirects
layout.tsx:43 Student dashboard accessed on main domain - allowing access without redirects
ModernStudentDashboard.tsx:412 🔍 [DASHBOARD] Loading gems analytics for user: 50153b2f-0ace-4be7-b542-12f0ec348005 alex.johnson.1755549969221@student.languagegems.com
ModernStudentDashboard.tsx:412 🔍 [DASHBOARD] Loading gems analytics for user: 50153b2f-0ace-4be7-b542-12f0ec348005 alex.johnson.1755549969221@student.languagegems.com
GemsAnalyticsService.ts:138 💎 [VOCABULARY COLLECTION] Mastery Gems by rarity: {new_discovery: 4, common: 0, uncommon: 0, rare: 0, epic: 0, …}
GemsAnalyticsService.ts:185 💎 [TODAY'S VOCABULARY] Today's Mastery Gems by rarity: {new_discovery: 4, common: 0, uncommon: 0, rare: 0, epic: 0, …}
GemsAnalyticsService.ts:218 🔍 [GEMS ANALYTICS] Loading analytics for student: 50153b2f-0ace-4be7-b542-12f0ec348005
DualTrackAnalyticsService.ts:74 🔍 [DUAL-TRACK] Fetching XP breakdown for student: 50153b2f-0ace-4be7-b542-12f0ec348005
GemsAnalyticsService.ts:138 💎 [VOCABULARY COLLECTION] Mastery Gems by rarity: {new_discovery: 4, common: 0, uncommon: 0, rare: 0, epic: 0, …}
DualTrackAnalyticsService.ts:82 📊 [DUAL-TRACK] Raw analytics data: {data: {…}, error: null}
DualTrackAnalyticsService.ts:124 ✅ [DUAL-TRACK] XP breakdown result: {totalXP: 38, masteryXP: 20, activityXP: 18, grammarXP: 0, totalMasteryGems: 4, …}
GemsAnalyticsService.ts:185 💎 [TODAY'S VOCABULARY] Today's Mastery Gems by rarity: {new_discovery: 4, common: 0, uncommon: 0, rare: 0, epic: 0, …}
GemsAnalyticsService.ts:218 🔍 [GEMS ANALYTICS] Loading analytics for student: 50153b2f-0ace-4be7-b542-12f0ec348005
DualTrackAnalyticsService.ts:74 🔍 [DUAL-TRACK] Fetching XP breakdown for student: 50153b2f-0ace-4be7-b542-12f0ec348005
DualTrackAnalyticsService.ts:82 📊 [DUAL-TRACK] Raw analytics data: {data: {…}, error: null}
DualTrackAnalyticsService.ts:124 ✅ [DUAL-TRACK] XP breakdown result: {totalXP: 38, masteryXP: 20, activityXP: 18, grammarXP: 0, totalMasteryGems: 4, …}
GemsAnalyticsService.ts:228 📊 [TRIPLE-TRACK] Analytics loaded: {studentId: '50153b2f-0ace-4be7-b542-12f0ec348005', totalXP: 38, masteryXP: 20, activityXP: 18, grammarXP: 0, …}
ModernStudentDashboard.tsx:415 📊 [DASHBOARD] Gems data loaded: {studentId: '50153b2f-0ace-4be7-b542-12f0ec348005', totalGems: 6, gemsByRarity: {…}, totalXP: 38, currentLevel: 1, …}
GemsAnalyticsService.ts:228 📊 [TRIPLE-TRACK] Analytics loaded: {studentId: '50153b2f-0ace-4be7-b542-12f0ec348005', totalXP: 38, masteryXP: 20, activityXP: 18, grammarXP: 0, …}
ModernStudentDashboard.tsx:415 📊 [DASHBOARD] Gems data loaded: {studentId: '50153b2f-0ace-4be7-b542-12f0ec348005', totalGems: 6, gemsByRarity: {…}, totalXP: 38, currentLevel: 1, …}
script.debug.js:1 [Vercel Web Analytics] [pageview] http://localhost:3000/student-dashboard/assignments/9f17757e-763d-4bd1-9ce3-ef2a58f745c1 {o: 'http://localhost:3000/student-dashboard/assignments/9f17757e-763d-4bd1-9ce3-ef2a58f745c1', sv: '0.1.3', sdkn: '@vercel/analytics/next', sdkv: '1.5.0', ts: 1755712617111, …}
page.tsx:263 Assignment progress calculation: {totalGames: 1, totalAssessments: 0, totalSkills: 0, totalActivities: 1, completedActivities: 0, …}
page.tsx:263 Assignment progress calculation: {totalGames: 1, totalAssessments: 0, totalSkills: 0, totalActivities: 1, completedActivities: 0, …}
page.tsx:28 🎯 [Noughts] Assignment mode check [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', mode: 'assignment', hasUser: true, userId: '50153b2f-0ace-4be7-b542-12f0ec348005', timestamp: '2025-08-20T17:56:59.407Z'}
page.tsx:28 🎯 [Noughts] Assignment mode check [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', mode: 'assignment', hasUser: true, userId: '50153b2f-0ace-4be7-b542-12f0ec348005', timestamp: '2025-08-20T17:56:59.408Z'}
GameAssignmentWrapper.tsx:363 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', gameId: 'noughts-and-crosses', studentId: '50153b2f-0ace-4be7-b542-12f0ec348005', timestamp: '2025-08-20T17:56:59.408Z'}
GameAssignmentWrapper.tsx:79 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', timestamp: '2025-08-20T17:56:59.409Z'}
GameAssignmentWrapper.tsx:363 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', gameId: 'noughts-and-crosses', studentId: '50153b2f-0ace-4be7-b542-12f0ec348005', timestamp: '2025-08-20T17:56:59.409Z'}
GameAssignmentWrapper.tsx:79 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', timestamp: '2025-08-20T17:56:59.409Z'}
GameAssignmentWrapper.tsx:90 🔄 [HOOK EFFECT] useEffect triggered [DEBUG-v3]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', hasAssignmentId: true, timestamp: '2025-08-20T17:56:59.413Z'}
GameAssignmentWrapper.tsx:97 🔄 [HOOK LOAD] Starting loadAssignmentData [DEBUG-v3]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', timestamp: '2025-08-20T17:56:59.414Z'}
GameAssignmentWrapper.tsx:380 🎵 GameAssignmentWrapper: Initializing audio context for assignment games
useGlobalAudioContext.ts:69 🎵 GlobalAudioContext: Initializing audio context...
useGlobalAudioContext.ts:88 🎵 GlobalAudioContext: New AudioContext created.
useGlobalAudioContext.ts:105 ✅ GlobalAudioContext: Audio context initialized successfully (and running if resumed)
GameAssignmentWrapper.tsx:90 🔄 [HOOK EFFECT] useEffect triggered [DEBUG-v3]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', hasAssignmentId: true, timestamp: '2025-08-20T17:56:59.420Z'}
GameAssignmentWrapper.tsx:97 🔄 [HOOK LOAD] Starting loadAssignmentData [DEBUG-v3]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', timestamp: '2025-08-20T17:56:59.420Z'}
GameAssignmentWrapper.tsx:380 🎵 GameAssignmentWrapper: Initializing audio context for assignment games
script.debug.js:1 [Vercel Web Analytics] [pageview] http://localhost:3000/games/noughts-and-crosses?assignment=9f17757e-763d-4bd1-9ce3-ef2a58f745c1&mode=assignment {o: 'http://localhost:3000/games/noughts-and-crosses?as…7757e-763d-4bd1-9ce3-ef2a58f745c1&mode=assignment', sv: '0.1.3', sdkn: '@vercel/analytics/next', sdkv: '1.5.0', ts: 1755712619420, …}
GameAssignmentWrapper.tsx:382 🎵 GameAssignmentWrapper: Audio context initialized - games will handle their own music
GameAssignmentWrapper.tsx:382 🎵 GameAssignmentWrapper: Audio context initialized - games will handle their own music
useGlobalAudioContext.ts:235 🎵 GlobalAudioContext: AudioContext state changed to: running
GameAssignmentWrapper.tsx:363 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', gameId: 'noughts-and-crosses', studentId: '50153b2f-0ace-4be7-b542-12f0ec348005', timestamp: '2025-08-20T17:56:59.428Z'}
GameAssignmentWrapper.tsx:79 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', timestamp: '2025-08-20T17:56:59.428Z'}
GameAssignmentWrapper.tsx:363 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', gameId: 'noughts-and-crosses', studentId: '50153b2f-0ace-4be7-b542-12f0ec348005', timestamp: '2025-08-20T17:56:59.428Z'}
GameAssignmentWrapper.tsx:79 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', timestamp: '2025-08-20T17:56:59.428Z'}
GameAssignmentWrapper.tsx:380 🎵 GameAssignmentWrapper: Initializing audio context for assignment games
GameAssignmentWrapper.tsx:382 🎵 GameAssignmentWrapper: Audio context initialized - games will handle their own music
GameAssignmentWrapper.tsx:110 🔐 [AUTH] Authentication status [DEBUG-v2]: {hasSession: true, userId: '50153b2f-0ace-4be7-b542-12f0ec348005', authError: undefined, timestamp: '2025-08-20T17:56:59.430Z'}
GameAssignmentWrapper.tsx:110 🔐 [AUTH] Authentication status [DEBUG-v2]: {hasSession: true, userId: '50153b2f-0ace-4be7-b542-12f0ec348005', authError: undefined, timestamp: '2025-08-20T17:56:59.432Z'}
GameAssignmentWrapper.tsx:136 📋 [ASSIGNMENT] Assignment query result: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', found: true, error: undefined, vocabularyAssignmentListId: '092ef68c-f74b-4639-99fe-0ce0d218ec47', vocabularyCriteria: {…}}
GameAssignmentWrapper.tsx:136 📋 [ASSIGNMENT] Assignment query result: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', found: true, error: undefined, vocabularyAssignmentListId: '092ef68c-f74b-4639-99fe-0ce0d218ec47', vocabularyCriteria: {…}}
GameAssignmentWrapper.tsx:195 📋 [LIST-BASED] List-based approach result: {dataCount: 10, error: undefined, hasAssignmentListId: true}
GameAssignmentWrapper.tsx:207 🔍 [FALLBACK CHECK] Checking fallback conditions: {vocabularyDataLength: 10, hasVocabularyCriteria: true, vocabularyCriteria: {…}, isGrammarAssignment: false}
GameAssignmentWrapper.tsx:293 ✅ [SERVER] GameAssignmentWrapper - Final result: 10 vocabulary items for assignment 9f17757e-763d-4bd1-9ce3-ef2a58f745c1
GameAssignmentWrapper.tsx:294 🔍 [SERVER] Final vocabulary data sample: (2) [{…}, {…}]
GameAssignmentWrapper.tsx:363 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', gameId: 'noughts-and-crosses', studentId: '50153b2f-0ace-4be7-b542-12f0ec348005', timestamp: '2025-08-20T17:56:59.681Z'}
GameAssignmentWrapper.tsx:79 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', timestamp: '2025-08-20T17:56:59.682Z'}
GameAssignmentWrapper.tsx:363 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', gameId: 'noughts-and-crosses', studentId: '50153b2f-0ace-4be7-b542-12f0ec348005', timestamp: '2025-08-20T17:56:59.682Z'}
GameAssignmentWrapper.tsx:79 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', timestamp: '2025-08-20T17:56:59.682Z'}
GameAssignmentWrapper.tsx:380 🎵 GameAssignmentWrapper: Initializing audio context for assignment games
GameAssignmentWrapper.tsx:382 🎵 GameAssignmentWrapper: Audio context initialized - games will handle their own music
GameAssignmentWrapper.tsx:195 📋 [LIST-BASED] List-based approach result: {dataCount: 10, error: undefined, hasAssignmentListId: true}
GameAssignmentWrapper.tsx:207 🔍 [FALLBACK CHECK] Checking fallback conditions: {vocabularyDataLength: 10, hasVocabularyCriteria: true, vocabularyCriteria: {…}, isGrammarAssignment: false}
GameAssignmentWrapper.tsx:293 ✅ [SERVER] GameAssignmentWrapper - Final result: 10 vocabulary items for assignment 9f17757e-763d-4bd1-9ce3-ef2a58f745c1
GameAssignmentWrapper.tsx:294 🔍 [SERVER] Final vocabulary data sample: (2) [{…}, {…}]
GameAssignmentWrapper.tsx:363 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', gameId: 'noughts-and-crosses', studentId: '50153b2f-0ace-4be7-b542-12f0ec348005', timestamp: '2025-08-20T17:56:59.734Z'}
GameAssignmentWrapper.tsx:79 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', timestamp: '2025-08-20T17:56:59.734Z'}
GameAssignmentWrapper.tsx:363 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', gameId: 'noughts-and-crosses', studentId: '50153b2f-0ace-4be7-b542-12f0ec348005', timestamp: '2025-08-20T17:56:59.734Z'}
GameAssignmentWrapper.tsx:79 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', timestamp: '2025-08-20T17:56:59.735Z'}
GameAssignmentWrapper.tsx:380 🎵 GameAssignmentWrapper: Initializing audio context for assignment games
GameAssignmentWrapper.tsx:382 🎵 GameAssignmentWrapper: Audio context initialized - games will handle their own music
GameAssignmentWrapper.tsx:475 🔮 [WRAPPER] Gem session started for assignment: fa22ca35-4958-4b37-a15d-11d850d187a8
GameAssignmentWrapper.tsx:560 🔮 [WRAPPER] recordVocabularyInteraction function set up for assignment games
GameAssignmentWrapper.tsx:363 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', gameId: 'noughts-and-crosses', studentId: '50153b2f-0ace-4be7-b542-12f0ec348005', timestamp: '2025-08-20T17:56:59.752Z'}
GameAssignmentWrapper.tsx:79 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', timestamp: '2025-08-20T17:56:59.752Z'}
GameAssignmentWrapper.tsx:363 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', gameId: 'noughts-and-crosses', studentId: '50153b2f-0ace-4be7-b542-12f0ec348005', timestamp: '2025-08-20T17:56:59.752Z'}
GameAssignmentWrapper.tsx:79 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', timestamp: '2025-08-20T17:56:59.752Z'}
GameAssignmentWrapper.tsx:380 🎵 GameAssignmentWrapper: Initializing audio context for assignment games
GameAssignmentWrapper.tsx:382 🎵 GameAssignmentWrapper: Audio context initialized - games will handle their own music
GameAssignmentWrapper.tsx:363 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', gameId: 'noughts-and-crosses', studentId: '50153b2f-0ace-4be7-b542-12f0ec348005', timestamp: '2025-08-20T17:57:00.773Z'}
GameAssignmentWrapper.tsx:79 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', timestamp: '2025-08-20T17:57:00.774Z'}
GameAssignmentWrapper.tsx:363 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', gameId: 'noughts-and-crosses', studentId: '50153b2f-0ace-4be7-b542-12f0ec348005', timestamp: '2025-08-20T17:57:00.775Z'}
GameAssignmentWrapper.tsx:79 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: {assignmentId: '9f17757e-763d-4bd1-9ce3-ef2a58f745c1', timestamp: '2025-08-20T17:57:00.775Z'}
GameAssignmentWrapper.tsx:380 🎵 GameAssignmentWrapper: Initializing audio context for assignment games
GameAssignmentWrapper.tsx:382 🎵 GameAssignmentWrapper: Audio context initialized - games will handle their own music
useGlobalAudioContext.ts:212 🎵 GlobalAudioContext: Removed initial user interaction listeners.
TicTacToeGameThemed.tsx:631 🔍 [QUESTION GEN] Selected vocabulary word: {randomWord: {…}, hasId: true, idValue: '2f8037e4-64c4-494c-ac49-feaf775a974a', idType: 'string', vocabularyLength: 10, …}
TicTacToeGameThemed.tsx:662 🔍 [QUESTION CREATE] Question object created: {questionId: '2f8037e4-64c4-494c-ac49-feaf775a974a', questionIdType: 'string', randomWordId: '2f8037e4-64c4-494c-ac49-feaf775a974a', randomWordIdType: 'string', vocabularyId: '2f8037e4-64c4-494c-ac49-feaf775a974a', …}
TicTacToeGameThemed.tsx:731 🔍 [FSRS DEBUG] Current question data: {currentQuestionId: '2f8037e4-64c4-494c-ac49-feaf775a974a', currentQuestionIdType: 'string', currentQuestionWord: 'sábado', currentQuestionTranslation: 'Saturday'}
TicTacToeGameThemed.tsx:759 🔍 [FSRS DEBUG] Word data being passed to FSRS: {id: '2f8037e4-64c4-494c-ac49-feaf775a974a', word: 'sábado', translation: 'Saturday', language: 'es'}
EnhancedGameSessionService.ts:191 🔍 [ENHANCED SESSION] FSRS update: {vocabularyId: '2f8037e4-64c4-494c-ac49-feaf775a974a', wasCorrect: true}
EnhancedGameSessionService.ts:659 ✅ [FSRS GATE] Word is due for review, allowing progression: {vocabularyId: '2f8037e4-64c4-494c-ac49-feaf775a974a', phase: 'new', state: 'new'}
EnhancedGameSessionService.ts:681 ✅ [DIRECT UPDATE] Vocabulary updated successfully: {vocabularyId: '2f8037e4-64c4-494c-ac49-feaf775a974a', wasCorrect: true, studentId: '50153b2f-0ace-4be7-b542-12f0ec348005', phase: 'new'}
EnhancedGameSessionService.ts:203 ✅ [ENHANCED SESSION] FSRS update completed
EnhancedGameSessionService.ts:215 🎮 [DUAL-TRACK] Awarding Activity Gem for correct answer
EnhancedGameSessionService.ts:379 ✅ [DUAL-TRACK] activity gem stored: {rarity: 'rare', xp: 5, type: 'activity'}
EnhancedGameSessionService.ts:260 💎 [DUAL-TRACK] FSRS allows progression - awarding Mastery Gem
EnhancedGameSessionService.ts:261 🔍 [DEBUG] canProgress data: {allowed: true, reason: 'New word - first encounter', phase: 'new', state: 'new', nextReviewAt: '2025-08-22T17:57:06.777666+00:00'}
EnhancedGameSessionService.ts:263 🔍 [DEBUG] isFirstTime calculation: {phase: 'new', isFirstTime: true}
RewardEngine.ts:215 🆕 [REWARD ENGINE] First-time word detected - awarding New Discovery
EnhancedGameSessionService.ts:379 ✅ [DUAL-TRACK] mastery gem stored: {rarity: 'new_discovery', xp: 5, type: 'mastery'}
TicTacToeGameThemed.tsx:779 ✅ Noughts and Crosses gem awarded: new_discovery (5 XP)
TicTacToeGameThemed.tsx:794 🔍 [VOCAB TRACKING] Starting vocabulary tracking for word: {questionId: '2f8037e4-64c4-494c-ac49-feaf775a974a', questionIdType: 'string', word: 'sábado', translation: 'Saturday', isCorrect: true, …}
TicTacToeGameThemed.tsx:841 🔍 [VOCAB TRACKING] Skipping direct gem recording - assignment mode (wrapper will handle gems)
TicTacToeGameThemed.tsx:886 🔍 [ASSIGNMENT SKIP] Skipping assignment wrapper recording - FSRS already handled vocabulary tracking
TicTacToeGameThemed.tsx:631 🔍 [QUESTION GEN] Selected vocabulary word: {randomWord: {…}, hasId: true, idValue: '46d860a9-2eb9-4ccb-88af-8910306700ef', idType: 'string', vocabularyLength: 10, …}
TicTacToeGameThemed.tsx:662 🔍 [QUESTION CREATE] Question object created: {questionId: '46d860a9-2eb9-4ccb-88af-8910306700ef', questionIdType: 'string', randomWordId: '46d860a9-2eb9-4ccb-88af-8910306700ef', randomWordIdType: 'string', vocabularyId: '46d860a9-2eb9-4ccb-88af-8910306700ef', …}
TicTacToeGameThemed.tsx:731 🔍 [FSRS DEBUG] Current question data: {currentQuestionId: '46d860a9-2eb9-4ccb-88af-8910306700ef', currentQuestionIdType: 'string', currentQuestionWord: 'morado', currentQuestionTranslation: 'purple'}
TicTacToeGameThemed.tsx:759 🔍 [FSRS DEBUG] Word data being passed to FSRS: {id: '46d860a9-2eb9-4ccb-88af-8910306700ef', word: 'morado', translation: 'purple', language: 'es'}
EnhancedGameSessionService.ts:191 🔍 [ENHANCED SESSION] FSRS update: {vocabularyId: '46d860a9-2eb9-4ccb-88af-8910306700ef', wasCorrect: true}
EnhancedGameSessionService.ts:659 ✅ [FSRS GATE] Word is due for review, allowing progression: {vocabularyId: '46d860a9-2eb9-4ccb-88af-8910306700ef', phase: 'new', state: 'new'}
EnhancedGameSessionService.ts:681 ✅ [DIRECT UPDATE] Vocabulary updated successfully: {vocabularyId: '46d860a9-2eb9-4ccb-88af-8910306700ef', wasCorrect: true, studentId: '50153b2f-0ace-4be7-b542-12f0ec348005', phase: 'new'}
EnhancedGameSessionService.ts:203 ✅ [ENHANCED SESSION] FSRS update completed
EnhancedGameSessionService.ts:215 🎮 [DUAL-TRACK] Awarding Activity Gem for correct answer
EnhancedGameSessionService.ts:379 ✅ [DUAL-TRACK] activity gem stored: {rarity: 'common', xp: 2, type: 'activity'}
EnhancedGameSessionService.ts:260 💎 [DUAL-TRACK] FSRS allows progression - awarding Mastery Gem
EnhancedGameSessionService.ts:261 🔍 [DEBUG] canProgress data: {allowed: true, reason: 'New word - first encounter', phase: 'new', state: 'new', nextReviewAt: '2025-08-22T17:57:12.85256+00:00'}
EnhancedGameSessionService.ts:263 🔍 [DEBUG] isFirstTime calculation: {phase: 'new', isFirstTime: true}
RewardEngine.ts:215 🆕 [REWARD ENGINE] First-time word detected - awarding New Discovery
EnhancedGameSessionService.ts:379 ✅ [DUAL-TRACK] mastery gem stored: {rarity: 'new_discovery', xp: 5, type: 'mastery'}
TicTacToeGameThemed.tsx:779 ✅ Noughts and Crosses gem awarded: new_discovery (5 XP)
TicTacToeGameThemed.tsx:794 🔍 [VOCAB TRACKING] Starting vocabulary tracking for word: {questionId: '46d860a9-2eb9-4ccb-88af-8910306700ef', questionIdType: 'string', word: 'morado', translation: 'purple', isCorrect: true, …}
TicTacToeGameThemed.tsx:841 🔍 [VOCAB TRACKING] Skipping direct gem recording - assignment mode (wrapper will handle gems)
TicTacToeGameThemed.tsx:886 🔍 [ASSIGNMENT SKIP] Skipping assignment wrapper recording - FSRS already handled vocabulary tracking
TicTacToeGameThemed.tsx:631 🔍 [QUESTION GEN] Selected vocabulary word: {randomWord: {…}, hasId: true, idValue: '920a5e32-b473-4025-9317-defbbcd309b9', idType: 'string', vocabularyLength: 10, …}
TicTacToeGameThemed.tsx:662 🔍 [QUESTION CREATE] Question object created: {questionId: '920a5e32-b473-4025-9317-defbbcd309b9', questionIdType: 'string', randomWordId: '920a5e32-b473-4025-9317-defbbcd309b9', randomWordIdType: 'string', vocabularyId: '920a5e32-b473-4025-9317-defbbcd309b9', …}
TicTacToeGameThemed.tsx:731 🔍 [FSRS DEBUG] Current question data: {currentQuestionId: '920a5e32-b473-4025-9317-defbbcd309b9', currentQuestionIdType: 'string', currentQuestionWord: 'dar', currentQuestionTranslation: 'to give'}
TicTacToeGameThemed.tsx:759 🔍 [FSRS DEBUG] Word data being passed to FSRS: {id: '920a5e32-b473-4025-9317-defbbcd309b9', word: 'dar', translation: 'to give', language: 'es'}
EnhancedGameSessionService.ts:191 🔍 [ENHANCED SESSION] FSRS update: {vocabularyId: '920a5e32-b473-4025-9317-defbbcd309b9', wasCorrect: true}
EnhancedGameSessionService.ts:659 ✅ [FSRS GATE] Word is due for review, allowing progression: {vocabularyId: '920a5e32-b473-4025-9317-defbbcd309b9', phase: 'new', state: 'new'}
EnhancedGameSessionService.ts:681 ✅ [DIRECT UPDATE] Vocabulary updated successfully: {vocabularyId: '920a5e32-b473-4025-9317-defbbcd309b9', wasCorrect: true, studentId: '50153b2f-0ace-4be7-b542-12f0ec348005', phase: 'new'}
EnhancedGameSessionService.ts:203 ✅ [ENHANCED SESSION] FSRS update completed
EnhancedGameSessionService.ts:215 🎮 [DUAL-TRACK] Awarding Activity Gem for correct answer
EnhancedGameSessionService.ts:379 ✅ [DUAL-TRACK] activity gem stored: {rarity: 'rare', xp: 5, type: 'activity'}
EnhancedGameSessionService.ts:260 💎 [DUAL-TRACK] FSRS allows progression - awarding Mastery Gem
EnhancedGameSessionService.ts:261 🔍 [DEBUG] canProgress data: {allowed: true, reason: 'New word - first encounter', phase: 'new', state: 'new', nextReviewAt: '2025-08-22T17:57:17.49605+00:00'}
EnhancedGameSessionService.ts:263 🔍 [DEBUG] isFirstTime calculation: {phase: 'new', isFirstTime: true}
RewardEngine.ts:215 🆕 [REWARD ENGINE] First-time word detected - awarding New Discovery
EnhancedGameSessionService.ts:379 ✅ [DUAL-TRACK] mastery gem stored: {rarity: 'new_discovery', xp: 5, type: 'mastery'}
TicTacToeGameThemed.tsx:779 ✅ Noughts and Crosses gem awarded: new_discovery (5 XP)
TicTacToeGameThemed.tsx:794 🔍 [VOCAB TRACKING] Starting vocabulary tracking for word: {questionId: '920a5e32-b473-4025-9317-defbbcd309b9', questionIdType: 'string', word: 'dar', translation: 'to give', isCorrect: true, …}
TicTacToeGameThemed.tsx:841 🔍 [VOCAB TRACKING] Skipping direct gem recording - assignment mode (wrapper will handle gems)
TicTacToeGameThemed.tsx:886 🔍 [ASSIGNMENT SKIP] Skipping assignment wrapper recording - FSRS already handled vocabulary tracking
STI