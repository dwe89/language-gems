  Console Ninja extension is connected to Next.js browser, see https://tinyurl.com/2vt8jxzw for more info.
 Download the React DevTools for a better development experience: https://reactjs.org/link/react-devtools
 [Vercel Web Analytics] Debug mode is enabled by default in development. No requests will be sent to the server.
 [Vercel Web Analytics] Running queued event pageview Object
 [Vercel Web Analytics] Running queued event pageview Object
 [Vercel Web Analytics] [pageview] http://localhost:3000/student-dashboard/vocabulary/detail?item=ad734deb-295c-486e-a58c-0e05eaa9a6ff Object
 [Vercel Web Analytics] [pageview] http://localhost:3000/student-dashboard/vocabulary/detail?item=ad734deb-295c-486e-a58c-0e05eaa9a6ff Object
 Student dashboard accessed on main domain - allowing access without redirects
 Student dashboard accessed on main domain - skipping production redirects
 Student dashboard accessed on main domain - allowing access without redirects
 [Fast Refresh] rebuilding
 [Fast Refresh] done in 673ms
 [Fast Refresh] rebuilding
 [Fast Refresh] done in 623ms
 [Vercel Web Analytics] [pageview] http://localhost:3000/student-dashboard Object
 Student dashboard accessed on main domain - allowing access without redirects
 [Vercel Web Analytics] [pageview] http://localhost:3000/student-dashboard/assignments/f06443d5-ad1c-4b68-a942-14c6d7a21d3f Object
 Assignment progress calculation: Object
 Assignment progress calculation: Object
 Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
GoTrueClient @ webpack-internal:///…/GoTrueClient.js:84
 🎯 [Detective Listening] URL params [DEBUG-v3]: Object
 🎯 [Detective Listening] Assignment mode check [DEBUG-v6]: Object
 🎯 [Detective Listening] URL params [DEBUG-v3]: Object
 🎯 [Detective Listening] Assignment mode check [DEBUG-v6]: Object
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🔄 [HOOK EFFECT] useEffect triggered [DEBUG-v3]: Object
 🔄 [HOOK LOAD] Starting loadAssignmentData [DEBUG-v3]: Object
 🎵 GameAssignmentWrapper: Initializing audio context for assignment games
 🎵 GlobalAudioContext: Initializing audio context...
 🎵 GlobalAudioContext: New AudioContext created.
 ✅ GlobalAudioContext: Audio context initialized successfully (and running if resumed)
 🔄 [HOOK EFFECT] useEffect triggered [DEBUG-v3]: Object
 🔄 [HOOK LOAD] Starting loadAssignmentData [DEBUG-v3]: Object
 🎵 GameAssignmentWrapper: Initializing audio context for assignment games
 [Vercel Web Analytics] [pageview] http://localhost:3000/games/detective-listening?assignment=f06443d5-ad1c-4b68-a942-14c6d7a21d3f&mode=assignment Object
 🎵 GameAssignmentWrapper: Audio context initialized - games will handle their own music
 🎵 GameAssignmentWrapper: Audio context initialized - games will handle their own music
 🎵 GlobalAudioContext: AudioContext state changed to: running
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🎵 GameAssignmentWrapper: Initializing audio context for assignment games
 🎵 GameAssignmentWrapper: Audio context initialized - games will handle their own music
 🔐 [AUTH] Authentication status [DEBUG-v2]: Object
 🔐 [AUTH] Authentication status [DEBUG-v2]: Object
 📋 [ASSIGNMENT] Assignment query result: Object
 📋 [ASSIGNMENT] Assignment query result: Object
 📋 [LIST-BASED] List-based approach result: Object
 🔍 [FALLBACK CHECK] Checking fallback conditions: Object
 ✅ [SERVER] GameAssignmentWrapper - Final result: 10 vocabulary items for assignment f06443d5-ad1c-4b68-a942-14c6d7a21d3f
 🔍 [SERVER] Final vocabulary data sample: Array(2)
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🔍 [VOCABULARY DEBUG] State update: Object
 🔍 [DETECTIVE SESSION] Initializing game service: Object
 🔍 [DETECTIVE SESSION] Game service created successfully
 🔍 [DETECTIVE SESSION] Session initialization check: Object
 🎵 GameAssignmentWrapper: Initializing audio context for assignment games
 🔍 [VOCABULARY DEBUG] State update: Object
 🔍 [DETECTIVE SESSION] Initializing game service: Object
 🔍 [DETECTIVE SESSION] Game service created successfully
 🔍 [DETECTIVE SESSION] Session initialization check: Object
 🎵 GameAssignmentWrapper: Audio context initialized - games will handle their own music
 🔍 [VOCABULARY DEBUG] State update: Object
 🔍 [DETECTIVE SESSION] Session initialization check: Object
 🔍 [DETECTIVE SESSION] Starting game session...
 🔍 [DETECTIVE SESSION] startGameSession called: Object
 🔍 [DETECTIVE SESSION] Creating game session...
 🔍 [EVIDENCE DEBUG] Vocabulary effect triggered: Object
 Initializing audio effects...
 Audio effects initialized: Object
 Attempting to play background music
 🔍 [VOCABULARY DEBUG] State update: Object
 🔍 [EVIDENCE DEBUG] Vocabulary effect triggered: Object
 Initializing audio effects...
 Audio effects initialized: Object
 Attempting to play background music
 Background music autoplay blocked - will play on first user interaction: 
 🔍 [VOCABULARY DEBUG] State update: Object
 📋 [LIST-BASED] List-based approach result: Object
 🔍 [FALLBACK CHECK] Checking fallback conditions: Object
 ✅ [SERVER] GameAssignmentWrapper - Final result: 10 vocabulary items for assignment f06443d5-ad1c-4b68-a942-14c6d7a21d3f
 🔍 [SERVER] Final vocabulary data sample: Array(2)
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🔍 [EVIDENCE DEBUG] Vocabulary effect triggered: Object
 🔍 [VOCABULARY DEBUG] State update: Object
 🔍 [DETECTIVE SESSION] Session initialization check: Object
 🔍 [DETECTIVE SESSION] Starting game session...
 🔍 [DETECTIVE SESSION] startGameSession called: Object
 🔍 [DETECTIVE SESSION] Creating game session...
 🎵 GameAssignmentWrapper: Initializing audio context for assignment games
 🎵 GameAssignmentWrapper: Audio context initialized - games will handle their own music
 🔮 [WRAPPER] Gem session started for assignment: 9370dec4-4ef7-4650-b506-12b5ffb1b60b
 🔮 [WRAPPER] recordVocabularyInteraction function set up for assignment games
 🔍 [DETECTIVE SESSION] Game session created successfully: 91960416-77ab-4931-8601-1b0254e4c3d0
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🔍 [DETECTIVE SESSION] Session initialization check: Object
 🎵 GameAssignmentWrapper: Initializing audio context for assignment games
 🎵 GameAssignmentWrapper: Audio context initialized - games will handle their own music
 🔍 [VOCABULARY DEBUG] State update: Object
 wrongAnswer loaded successfully
 radioBeep loaded successfully
 radioStatic loaded successfully
 radioStatic loaded successfully
 correctAnswer loaded successfully
 Background music loaded successfully
 radioBeep loaded successfully
 wrongAnswer loaded successfully
 correctAnswer loaded successfully
 Background music started successfully
 Background music loaded successfully
 🔍 [DETECTIVE SESSION] Game session created successfully: cf77a2b3-e149-4688-9f9a-2b7d6158b7a9
 🔍 [DETECTIVE SESSION] Session initialization check: Object
 ensureBackgroundMusic called, backgroundMusic: 
 Background music is already playing
 Attempting to play radioStatic: Object
 Sound object for radioStatic: 
 Playing radioStatic sound
 🎵 GlobalAudioContext: Removed initial user interaction listeners.
 radioStatic sound played successfully
 radioStatic loaded successfully
 Attempting to play radioBeep: Object
 Sound object for radioBeep: 
 Playing radioBeep sound
 radioBeep sound played successfully
 radioBeep loaded successfully
 🎵 Loading audio from centralized vocabulary: https://xetsvpfunazwkontdpdh.supabase.co/storage/v1/object/public/audio/audio/vocabulary/es_el_caballo_1753294634305.mp3
 🎯 [Detective Listening] URL params [DEBUG-v3]: Object
 🎯 [Detective Listening] Assignment mode check [DEBUG-v6]: Object
 🎯 [Detective Listening] URL params [DEBUG-v3]: Object
 🎯 [Detective Listening] Assignment mode check [DEBUG-v6]: Object
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🎵 GameAssignmentWrapper: Initializing audio context for assignment games
 🎵 GameAssignmentWrapper: Audio context initialized - games will handle their own music
 🎯 [Detective Listening] URL params [DEBUG-v3]: Object
 🎯 [Detective Listening] Assignment mode check [DEBUG-v6]: Object
 🎯 [Detective Listening] URL params [DEBUG-v3]: Object
 🎯 [Detective Listening] Assignment mode check [DEBUG-v6]: Object
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🎵 GameAssignmentWrapper: Initializing audio context for assignment games
 🎵 GameAssignmentWrapper: Audio context initialized - games will handle their own music
 🔍 [DETECTIVE LISTENING] Starting vocabulary tracking: Object
 🔍 [SRS UPDATE] Starting SRS progress update: Object
 🔍 [SRS UPDATE] Starting SRS progress update: Object
 🔍 [FSRS SERVICE] updateProgress called with: Object
 🔍 [FSRS GET] getOrCreateCard called with: Object
 🔍 [FSRS CALC] calculateMemoryState result: Object
 🔍 [FSRS SAVE] saveCard called with: Object
 🔍 [FSRS SAVE] Using atomic function: Object
 ✅ FSRS card saved successfully using atomic function: Object
 🔍 [SRS UPDATE] SRS progress update completed successfully
 🔍 [VOCAB TRACKING] Gem event result: Object
 🔮 Detective earned common gem (10 XP) for "el caballo"
 Attempting to play correctAnswer: Object
 Sound object for correctAnswer: 
 Playing correctAnswer sound
 correctAnswer sound played successfully
 correctAnswer loaded successfully
 🎯 [Detective Listening] URL params [DEBUG-v3]: Object
 🎯 [Detective Listening] Assignment mode check [DEBUG-v6]: Object
 🎯 [Detective Listening] URL params [DEBUG-v3]: Object
 🎯 [Detective Listening] Assignment mode check [DEBUG-v6]: Object
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🎵 GameAssignmentWrapper: Initializing audio context for assignment games
 🎵 GameAssignmentWrapper: Audio context initialized - games will handle their own music
 🎯 [Detective Listening] URL params [DEBUG-v3]: Object
 🎯 [Detective Listening] Assignment mode check [DEBUG-v6]: Object
 🎯 [Detective Listening] URL params [DEBUG-v3]: Object
 🎯 [Detective Listening] Assignment mode check [DEBUG-v6]: Object
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🎵 GameAssignmentWrapper: Initializing audio context for assignment games
 🎵 GameAssignmentWrapper: Audio context initialized - games will handle their own music
 🎯 [Detective Listening] URL params [DEBUG-v3]: Object
 🎯 [Detective Listening] Assignment mode check [DEBUG-v6]: Object
 🎯 [Detective Listening] URL params [DEBUG-v3]: Object
 🎯 [Detective Listening] Assignment mode check [DEBUG-v6]: Object
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🎵 GameAssignmentWrapper: Initializing audio context for assignment games
 🎵 GameAssignmentWrapper: Audio context initialized - games will handle their own music
 ensureBackgroundMusic called, backgroundMusic: 
 Background music is already playing
 Attempting to play radioStatic: Object
 Sound object for radioStatic: 
 Playing radioStatic sound
 radioStatic sound played successfully
 radioStatic loaded successfully
 Attempting to play radioBeep: Object
 Sound object for radioBeep: 
 Playing radioBeep sound
 radioBeep sound played successfully
 radioBeep loaded successfully
 🎵 Loading audio from centralized vocabulary: https://xetsvpfunazwkontdpdh.supabase.co/storage/v1/object/public/audio/audio/vocabulary/es_el_gallo_1753296704619.mp3
 🎯 [Detective Listening] URL params [DEBUG-v3]: Object
 🎯 [Detective Listening] Assignment mode check [DEBUG-v6]: Object
 🎯 [Detective Listening] URL params [DEBUG-v3]: Object
 🎯 [Detective Listening] Assignment mode check [DEBUG-v6]: Object
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🎵 GameAssignmentWrapper: Initializing audio context for assignment games
 🎵 GameAssignmentWrapper: Audio context initialized - games will handle their own music
 🎯 [Detective Listening] URL params [DEBUG-v3]: Object
 🎯 [Detective Listening] Assignment mode check [DEBUG-v6]: Object
 🎯 [Detective Listening] URL params [DEBUG-v3]: Object
 🎯 [Detective Listening] Assignment mode check [DEBUG-v6]: Object
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
 🎵 GameAssignmentWrapper: Initializing audio context for assignment games
 🎵 GameAssignmentWrapper: Audio context initialized - games will handle their own music
 🔍 [DETECTIVE LISTENING] Starting vocabulary tracking: Object
 🔍 [SRS UPDATE] Starting SRS progress update: Object
 🔍 [SRS UPDATE] Starting SRS progress update: Object
 🔍 [FSRS SERVICE] updateProgress called with: Object
 🔍 [FSRS GET] getOrCreateCard called with: Object
 🔍 [FSRS CALC] calculateMemoryState result: Object
 🔍 [FSRS SAVE] saveCard called with: Object
 🔍 [FSRS SAVE] Using atomic function: Object
fsrsService.ts:583 ✅ FSRS card saved successfully using atomic function: Object
EnhancedGameSessionService.ts:229 🔍 [SRS UPDATE] SRS progress update completed successfully
DetectiveRoom.tsx:361 🔍 [VOCAB TRACKING] Gem event result: Object
DetectiveRoom.tsx:374 🔮 Detective earned common gem (10 XP) for "el gallo"
DetectiveRoom.tsx:226 Attempting to play correctAnswer: Object
DetectiveRoom.tsx:228 Sound object for correctAnswer: <audio preload=​"auto" src=​"/​audio/​detective-listening/​correct-answer.mp3">​</audio>​media
DetectiveRoom.tsx:232 Playing correctAnswer sound
DetectiveRoom.tsx:234 correctAnswer sound played successfully
DetectiveRoom.tsx:176 correctAnswer loaded successfully
page.tsx:19 🎯 [Detective Listening] URL params [DEBUG-v3]: Object
page.tsx:30 🎯 [Detective Listening] Assignment mode check [DEBUG-v6]: Object
page.tsx:19 🎯 [Detective Listening] URL params [DEBUG-v3]: Object
page.tsx:30 🎯 [Detective Listening] Assignment mode check [DEBUG-v6]: Object
GameAssignmentWrapper.tsx:335 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
GameAssignmentWrapper.tsx:76 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
GameAssignmentWrapper.tsx:335 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
GameAssignmentWrapper.tsx:76 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
GameAssignmentWrapper.tsx:352 🎵 GameAssignmentWrapper: Initializing audio context for assignment games
GameAssignmentWrapper.tsx:354 🎵 GameAssignmentWrapper: Audio context initialized - games will handle their own music
page.tsx:19 🎯 [Detective Listening] URL params [DEBUG-v3]: Object
page.tsx:30 🎯 [Detective Listening] Assignment mode check [DEBUG-v6]: Object
page.tsx:19 🎯 [Detective Listening] URL params [DEBUG-v3]: Object
page.tsx:30 🎯 [Detective Listening] Assignment mode check [DEBUG-v6]: Object
GameAssignmentWrapper.tsx:335 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
GameAssignmentWrapper.tsx:76 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
GameAssignmentWrapper.tsx:335 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
GameAssignmentWrapper.tsx:76 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
GameAssignmentWrapper.tsx:352 🎵 GameAssignmentWrapper: Initializing audio context for assignment games
GameAssignmentWrapper.tsx:354 🎵 GameAssignmentWrapper: Audio context initialized - games will handle their own music
page.tsx:19 🎯 [Detective Listening] URL params [DEBUG-v3]: Object
page.tsx:30 🎯 [Detective Listening] Assignment mode check [DEBUG-v6]: Object
page.tsx:19 🎯 [Detective Listening] URL params [DEBUG-v3]: Object
page.tsx:30 🎯 [Detective Listening] Assignment mode check [DEBUG-v6]: Object
GameAssignmentWrapper.tsx:335 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
GameAssignmentWrapper.tsx:76 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
GameAssignmentWrapper.tsx:335 🚀 [WRAPPER] GameAssignmentWrapper called [DEBUG-v2]: Object
GameAssignmentWrapper.tsx:76 🔧 [HOOK] useAssignmentVocabulary called [DEBUG-v2]: Object
GameAssignmentWrapper.tsx:352 🎵 GameAssignmentWrapper: Initializing audio context for assignment games
GameAssignmentWrapper.tsx:354 🎵 GameAssignmentWrapper: Audio context initialized - games will handle their own music
hot-reloader-client.js:187 [Fast Refresh] rebuilding
hot-reloader-client.js:44 [Fast Refresh] done in 24ms
